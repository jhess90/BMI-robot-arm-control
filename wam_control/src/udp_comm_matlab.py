import SocketServerimport structimport socket   #for socketsimport sys  #for exitimport structimport numpyimport rospyimport mathPACKAGE='wam_msgs'import roslibroslib.load_manifest(PACKAGE)from std_msgs.msg import Stringfrom wam_msgs.msg import RTJointPosglobal joint_pos_pubjoint_pos_pub = rospy.Publisher('/wam/jnt_pos_cmd', RTJointPos)rospy.init_node('wam_python', anonymous=True)global rr = rospy.Rate(10) # 10hzglobal ss = socket.socket(socket.AF_INET, socket.SOCK_DGRAM)class MatlabUDPHandler(SocketServer.BaseRequestHandler):     def handle(self):                global s                data = self.request[0]                socket = self.request[1]                numOfValues = len(data) / 8                unp=struct.unpack('>' + 'd' * numOfValues, data)                #print unp[0]                msg = RTJointPos( [ unp[0], 1.5, 1.5, unp[1], 0.0, 0.0, 0.0] , [unp[2],0.2,0.2,unp[3],0.2,0.2,0.2])                joint_pos_pub.publish(msg)                rospy.loginfo(msg)                HOST, PORT = "0.0.0.0", 3333server = SocketServer.UDPServer((HOST, PORT), MatlabUDPHandler)server.serve_forever()